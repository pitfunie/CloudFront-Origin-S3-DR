cat <<EOT > cf-distribution.json
{
  "CallerReference":"mini-lab-example",
  "Aliases":{
    "Quantity":0
  },
  "DefaultRootObject":"index.html",
  "Origins":{
    "Quantity":2,
    "Items":[
      {
        "Id":"mini-lab-origin-virginia",
        "DomainName":"${VIRGINIA_LAB_BUCKET}.s3.amazonaws.com",
        "S3OriginConfig":{
          "OriginAccessIdentity":"origin-access-identity/cloudfront/${OAI_ID}"
        },
        "ConnectionAttempts":1,
        "ConnectionTimeout":2
      },
      {
        "Id":"mini-lab-origin-california",
        "DomainName":"${CALIFORNIA_LAB_BUCKET}.s3.us-west-1.amazonaws.com",
        "S3OriginConfig":{
          "OriginAccessIdentity":"origin-access-identity/cloudfront/${OAI_ID}"
        },
        "ConnectionAttempts":1,
        "ConnectionTimeout":2
      }
    ]
  },
  "OriginGroups":{
    "Quantity":1,
    "Items":[
      {
        "Id":"mini-lab-origin-group-example",
        "FailoverCriteria":{
          "StatusCodes":{
            "Quantity":6,
            "Items":[
              404,
              403,
              500,
              502,
              503,
              504
            ]
          }
        },
        "Members":{
          "Quantity":2,
          "Items":[
            {
              "OriginId":"mini-lab-origin-virginia"
            },
            {
              "OriginId":"mini-lab-origin-california"
            }
          ]
        }
      }
    ]
  },
  "DefaultCacheBehavior":{
    "TargetOriginId":"mini-lab-origin-group-example",
    "ForwardedValues":{
      "QueryString":false,
      "Cookies":{
        "Forward":"none"
      },
      "Headers":{
        "Quantity":0
      },
      "QueryStringCacheKeys":{
        "Quantity":0
      }
    },
    "TrustedSigners":{
      "Enabled":false,
      "Quantity":0
    },
    "TrustedKeyGroups":{
      "Enabled":false,
      "Quantity":0
    },
    "ViewerProtocolPolicy":"allow-all",
    "MinTTL":0,
    "MaxTTL":0,
    "DefaultTTL":0,
    "AllowedMethods":{
      "Quantity":2,
      "Items":[
        "HEAD",
        "GET"
      ],
      "CachedMethods":{
        "Quantity":2,
        "Items":[
          "HEAD",
          "GET"
        ]
      }
    }
  },
  "CacheBehaviors":{
    "Quantity":0
  },
  "Comment":"",
  "Enabled":true
}
EOT
